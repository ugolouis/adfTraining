{
	"name": "SQL script 3",
	"properties": {
		"folder": {
			"name": "DedicateDB_Queries"
		},
		"content": {
			"query": "CREATE PROCEDURE DWH.usp_InsertUnknownMembers\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    -- DimPatient\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimPatient WHERE PatientKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimPatient (PatientKey, PatientID, PatientName)\n        VALUES (-1, -1, 'Unknown Patient');\n    END\n\n    -- DimLocation\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimLocation WHERE LocationKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimLocation (LocationKey, Site, Ward)\n        VALUES (-1, 'Unknown Site', 'Unknown Ward');\n    END\n\n    -- DimBed\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimBed WHERE BedKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimBed (BedKey, Bed)\n        VALUES (-1, 'Unknown Bed');\n    END\n\n    -- DimChiefComplaint\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimChiefComplaint WHERE ChiefComplaintKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimChiefComplaint (ChiefComplaintKey, ChiefComplaintDescription)\n        VALUES (-1, 'Unknown Chief Complaint');\n    END\n\n    -- DimEdAttendanceType\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimEdAttendanceType WHERE EdAttendanceTypeKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimEdAttendanceType (EdAttendanceTypeKey, EdAttendanceTypeCode, EdAttendanceTypeDescription)\n        VALUES (-1, -1, 'Unknown ED Attendance Type');\n    END\n\n    -- DimSpecialty\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimSpecialty WHERE SpecialtyKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimSpecialty (SpecialtyKey, SpecialtyCode, SpecialtyDescription)\n        VALUES (-1, 'UNKNOWN', 'Unknown Specialty');\n    END\n\n    -- DimBreachReason\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimBreachReason WHERE BreachReasonKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimBreachReason (BreachReasonKey, BreachReason)\n        VALUES (-1, 'Unknown Breach Reason');\n    END\n\n    -- DimDischargeDestination\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimDischargeDestination WHERE DischargeDestinationKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimDischargeDestination (DischargeDestinationKey, DischargeDestination)\n        VALUES (-1, 'Unknown Discharge Destination');\n    END\n\n    -- DimEdDepartmentType\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimEdDepartmentType WHERE EdDepartmentTypeKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimEdDepartmentType (EdDepartmentTypeKey, EdDepartmentType, EdDepartmentTypeDescription)\n        VALUES (-1, 'U', 'Unknown ED Department Type');\n    END\n\n    -- DimModeOfArrival\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimModeOfArrival WHERE ModeOfArrivalKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimModeOfArrival (ModeOfArrivalKey, ModeOfArrivalDescription, ModeOfArrivalCode)\n        VALUES (-1, 'Unknown Mode of Arrival', 'UNKNOWN');\n    END\n\n    -- DimDischargeStatus\n    IF NOT EXISTS (SELECT 1 FROM DWH.DimDischargeStatus WHERE DischargeStatusKey = -1)\n    BEGIN\n        INSERT INTO DWH.DimDischargeStatus (DischargeStatusKey, DischargeStatus, DischargeStatusGroup, DischargeStatusCode)\n        VALUES (-1, 'Unknown Discharge Status', 'Unknown', -1);\n    END\n\nEND\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "taxi",
				"poolName": "taxi"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}